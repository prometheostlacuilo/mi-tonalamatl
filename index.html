<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tonalamatl Digital</title>
    <style>
        body { font-family: 'Georgia', serif; text-align: center; background: #f4ece1; color: #3d2b1f; padding: 20px; }
        .card { background: #fffdfa; border: 2px dashed #8b4513; padding: 20px; border-radius: 15px; max-width: 400px; margin: 0 auto; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .glifo-placeholder { font-size: 4rem; margin: 10px 0; }
        h1 { color: #a04000; font-size: 1.2rem; text-transform: uppercase; border-bottom: 2px solid #8b4513; display: inline-block; padding-bottom: 5px; }
        .tonal { font-size: 2.5rem; font-weight: bold; color: #d35400; margin: 5px 0; }
        .info { text-align: left; margin-top: 15px; background: rgba(139, 69, 19, 0.05); padding: 15px; border-radius: 10px; }
        .fuente-box { margin-top: 15px; padding-top: 15px; border-top: 1px double #8b4513; font-style: italic; }
        button { background: #8b4513; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; font-size: 1rem; }
    </style>
</head>
<body>

<div class="card">
    <div id="pantalla">
        <h1>Tonalamatl</h1>
        <p>Presiona para realizar el cÃ³mputo</p>
        <button onclick="calcular()">Consultar Hoy</button>
    </div>
</div>

<script>
function calcular() {
    const signos = ["Cipactli", "Ehecatl", "Calli", "Cuetzpalin", "Coatl", "Miquiztli", "Mazatl", "Tochtli", "Atl", "Itzcuintli", "Ozomatli", "Malinalli", "Acatl", "Ocelotl", "Cuauhtli", "Cozcacuauhtli", "Olin", "Tecpatl", "Quiahuitl", "Xochitl"];
    
    // Iconos temporales (mientras subimos tus glifos)
    const iconos = ["ğŸŠ", "ğŸŒ¬ï¸", "ğŸ ", "ğŸ¦", "ğŸ", "ğŸ’€", "ğŸ¦Œ", "ğŸ‡", "ğŸ’§", "ğŸ•", "ğŸ’", "ğŸŒ¿", "ğŸ¹", "ğŸ†", "ğŸ¦…", "ğŸ¦‰", "ğŸŒ€", "ğŸ”ª", "ğŸŒ§ï¸", "ğŸŒ¸"];

    const augurios = {
        "Cipactli": "Principio y orden. Los nacidos aquÃ­ son diligentes y creadores.",
        "Ehecatl": "Aliento de vida. Personas de gran intelecto pero espÃ­ritu cambiante.",
        "Calli": "ProtecciÃ³n y familia. Inclinados al descanso y la vida interna.",
        "Cuetzpalin": "Fuerza y salud. Se decÃ­a que nada les causaba daÃ±o fÃ­sico.",
        "Coatl": "SabidurÃ­a y energÃ­a. Personas que logran fama y reconocimiento.",
        "Miquiztli": "TransformaciÃ³n. Inclinados a lo espiritual y la reflexiÃ³n profunda.",
        "Mazatl": "Agilidad y timidez. Amantes de la libertad y la naturaleza.",
        "Tochtli": "Abundancia. Siempre tendrÃ¡n lo necesario para vivir, si son trabajadores.",
        "Atl": "EmociÃ³n y purificaciÃ³n. CarÃ¡cter fuerte, como la corriente de un rÃ­o.",
        "Itzcuintli": "Lealtad. Protectores naturales de su hogar y sus amigos.",
        "Ozomatli": "AlegrÃ­a y artes. Nacidos para el canto, el baile y la celebraciÃ³n.",
        "Malinalli": "Resistencia. Capaces de florecer incluso en la adversidad.",
        "Acatl": "Justicia y autoridad. Portadores de la palabra y el mando.",
        "Ocelotl": "ValentÃ­a. Guerreros por naturaleza, de espÃ­ritu fiero.",
        "Cuauhtli": "VisiÃ³n clara. Capaces de ver lo que otros ignoran.",
        "Cozcacuauhtli": "Longevidad y consejo. Poseen la sabidurÃ­a de los aÃ±os.",
        "Olin": "Movimiento y cambio. Su destino es estar en constante evoluciÃ³n.",
        "Tecpatl": "Claridad y sacrificio. Mente aguda como el pedernal.",
        "Quiahuitl": "BendiciÃ³n y refugio. Personas que traen bienestar a otros.",
        "Xochitl": "Belleza y arte. Los antiguos decÃ­an que florecerÃ­an en todas las artes."
    };

    const fechaRef = new Date('1521-08-23T00:00:00Z'); 
    const hoy = new Date();
    const difMs = hoy - fechaRef;
    const difDias = Math.floor(difMs / (1000 * 60 * 60 * 24));

    // TONALPOHUALLI
    let numTonal = ((difDias + 0) % 13) + 1; 
    let signoIdx = (difDias + 4) % 20;

    // XIUHPOHUALLI (AÃ±o) - Ajuste a 4 Tochtli para 2026
    const aÃ±osSignos = ["Tochtli", "Acatl", "Tecpatl", "Calli"];
    let aÃ±oActual = hoy.getFullYear();
    let numAÃ±o = ((aÃ±oActual - 2022) % 13) + 1; 
    let signoAÃ±o = aÃ±osSignos[(aÃ±oActual - 2022) % 4];

    // TRECENA
    let trecenaIdx = (signoIdx - (numTonal - 1));
    while (trecenaIdx < 0) trecenaIdx += 20;

    document.getElementById('pantalla').innerHTML = `
        <h1>CÃ³mputo del Tiempo</h1>
        <div class="glifo-placeholder">${iconos[signoIdx]}</div>
        <div class="tonal">${numTonal} ${signos[signoIdx]}</div>
        <div class="info">
            <p><strong>AÃ±o:</strong> ${numAÃ±o} ${signoAÃ±o}</p>
            <p><strong>Trecena:</strong> 1 ${signos[trecenaIdx]}</p>
            <div class="fuente-box">
                <strong>Augurio del Nacido:</strong><br>
                "${augurios[signos[signoIdx]]}"
            </div>
        </div>
        <br>
        <button onclick="location.reload()">Regresar</button>
    `;
}
</script>
</body>
</html>
